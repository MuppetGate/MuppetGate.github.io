<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>The MuppetGate Conspiracy</title><link href="http://muppetgate.github.io/" rel="alternate"></link><link href="http://muppetgate.github.io/feeds/python-swift.atom.xml" rel="self"></link><id>http://muppetgate.github.io/</id><updated>2016-01-21T07:07:00+01:00</updated><entry><title>Is Swift really Python under a funky new skin?</title><link href="http://muppetgate.github.io/is-swift-really-python-under-a-funky-new-skin.html" rel="alternate"></link><updated>2016-01-21T07:07:00+01:00</updated><author><name>MuppetGate</name></author><id>tag:muppetgate.github.io,2016-01-21:is-swift-really-python-under-a-funky-new-skin.html</id><summary type="html">&lt;p&gt;Not quite sure how this conversation came about, but I got into an online chat with a fellow developer over the underpinnings of the Swift programming language. I always thought that it took most of its cues from Scala and C#, with perhaps a passing not towards Jetbrain's fledgling Kotlin language.&lt;/p&gt;
&lt;p&gt;'Nope,' the other guy said. 'This Swift language has Python written right through it.'&lt;/p&gt;
&lt;p&gt;Have to say, I wasn't really convinced. I mean the most obvious difference is that Swift doesn't rely on indention to ascertain semantic rules.&lt;/p&gt;
&lt;p&gt;But my learned colleague assured me that was just superficial: 'That's just compiler stuff; you have to look much deeper.'&lt;/p&gt;
&lt;p&gt;After a few minutes though, I could see what he was driving at. When you look at the design of a programming language, you need to go beyond the statements and the symbols and look deeply at what the language designers were trying to achieve. In this regard, the designers of Python and Swift shared the same goal: simplicity. One of the credos I keep running across in the Python forums is that wherever possible there should be just one way to do one thing. This idea keeps the language clean and simple. Now, Swift may look different, but the recent decisions they've take for Version 3 of the language makes me think that they want to bring it closer to the ideals that Python was created under. For example, rather than adding features to the language, it looks like the Cupertino mothership is looking to take some out.&lt;/p&gt;
&lt;div class="section" id="exhibit-a-the-deprecated-decrement"&gt;
&lt;h2&gt;Exhibit A – The Deprecated Decrement&lt;/h2&gt;
&lt;p&gt;Most modern languages have shortcut operators for incrementing/decrementing values (usually something like ++ and --). Java has them. C# has them, and at the moment, Swift has them. But I'll tell you what language doesn't support increment/decrement operators: Python. They're a handy shortcut to be sure, but that's all they are: a shortcut. The problem from Apple's point of view is that the operators can lead to this sort of nonsense:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yeah, it's valid code, but you can see how it'll cause something of a headache for the next programmer who has to come in and fix it. Besides which, there's a way to achieve the same results without making the code a nightmare to debug: just use the regular operators to add 1 to the variables.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will do the same job, and will be much easier to follow. This also maintains the notion of immutability. For a few years now, software development has been leaning towards functional programmming and the idea that any operation should return, as far as is possible, an immutable result. The problem with the increment/decrement operator is that this notion of immutability is hidden.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="exhibit-b-the-stolen-curry"&gt;
&lt;h2&gt;Exhibit B – The Stolen Curry&lt;/h2&gt;
&lt;p&gt;The newer pseudo-functional languages, such as Scala and Kotlin, include short cuts to curry functions. Swift used the same double-bracket notion. The old code would look like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;curried&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you know how currying works under the hood then the code probably isn't difficult to work out: The function &lt;strong&gt;curried(x)&lt;/strong&gt; will return another function that will use &lt;em&gt;x&lt;/em&gt; internally, take another parameter &lt;em&gt;y&lt;/em&gt; and return a &lt;em&gt;Float&lt;/em&gt; value. Okay, that's great if you know currying, but what if you're new to the concept? Remember that Swift is designed to be a teaching language as well as a systems language and an application language and a server-side language. The currying notation is going, and will be replaced by an explicit declaration of what is actually happening.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;curried&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;Float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, the function is explicity declared as taking an integer (&lt;em&gt;x&lt;/em&gt;) as a parameter and then returning a function that takes a string as a parameter returning a Float. And in the code we can see &lt;em&gt;explicitly&lt;/em&gt; that we are in fact returning a function. Yes, a little more verbose, but a lot easier for the layperson to see what's going on. Of course, the function is called in exactly the same way:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;float_add&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;curried&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See? The function call &lt;strong&gt;curried(10)&lt;/strong&gt; returns a function that is called with &lt;em&gt;5&lt;/em&gt; as a parameter.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="so-what-does-this-have-to-do-with-python"&gt;
&lt;h2&gt;So what does this have to do with Python?&lt;/h2&gt;
&lt;p&gt;Python is a language that favours simplicity and ease of understanding over brevity. Like Swift3, it doesn't have increment/decrement operators, and there is no shortcut to declaring curried functions:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;curried&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_addY&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;_addY&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So going forward Swift3 means you will have to write a few more extra lines of code, but six months down the line, when you read it again, chances are you'll understand what it's doing.&lt;/p&gt;
&lt;/div&gt;
</summary><category term="Technology"></category><category term="Software"></category><category term="Programming"></category></entry></feed>